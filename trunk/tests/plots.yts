
// some tests to verify that plotting works

Verify(Plot2D(a,-1:1,output=data,points=4,depth=0), {{{-1,-1},{-0.5,-0.5},{0,0},{0.5,0.5},{1,1}}});
Verify(Plot2D(b,b= -1:1,output=data,points=4), {{{-1,-1},{-0.5,-0.5},{0,0},{0.5,0.5},{1,1}}});
Verify(Plot2D({1,y},-1:1,output=datafile), {"output.data1", "output.data2"});
Verify(DeleteFile("output.data1"), True);
Verify(DeleteFile("output.data2"), True);

result:={{{-1,-1,-1},{-1,0,-1},{-1,1,-1},{0,-1,0},{0,0,0},{0,1,0},{1,-1,1},{1,0,1},{1,1,1}}};
Verify(Plot3DS(a,-1:1,-1:1,output=data,points=2), result);
Verify(Plot3DS(x1,x1 = -1:1,x2 = -1:1,output=data,points=2), result);
Verify(Plot3DS({y,z},-1:1,-1:1,output=datafile,points=2,filename=test), {"test1", "test2"});

// clean up
Verify(DeleteFile("test1"), True);
Verify(DeleteFile("test2"), True);

// test NFunction
Precision(10);
Retract("f",1);
Retract("f1",1);
f(x) := N(Abs(1/x-1));
Verify(f(0), Infinity);
NumericEqual(RoundTo(f(3),GetPrecision()), 0.6666666667,GetPrecision());
NFunction("f1", "f", {x});
Verify(f1(0), Undefined);
NumericEqual(RoundTo(f1(3),GetPrecision()), 0.6666666667,GetPrecision());

